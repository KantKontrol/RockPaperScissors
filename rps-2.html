<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors Part 2
  </title>
</head>

<body>

  <div id="game">
    <h1>Rock! Paper! Scissors!</h1>
    <h4>press 'r', 'p', or 's' to continue</h4>

    <h2 id="tp">Played: 0/10</h2>

    <h2 id="userScore">User Score: 0</h2>
    <h2 id="computerScore">Computer Score: 0</h2>
    <h2 id="tie">Tie: 0</h2>

    <p id="results"></p>

  </div>

  <script type="text/javascript">

    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ["r", "p", "s"];
    var maxPlays = 10;
    var numberOfPlays = 0;

    var userScore = 0;
    var computerScore = 0;
    var numOfTies = 0;

    function userWin(){
      userScore++;
      document.getElementById("userScore").innerHTML = "User Score: " + userScore;
    }

    function userLoss(){
      computerScore++;
      document.getElementById("computerScore").innerHTML = "Computer Score: " + computerScore;    
    }

    function tie(){
      numOfTies++;
      document.getElementById("tie").innerHTML = "Tie: " + numOfTies;  
    }

    function updateTimesPlayed(){
      document.getElementById("tp").innerHTML = "Played: " + numberOfPlays + "/10";
    }

    function appendResults(ug, cg){
      let br = document.createElement("br");
      document.getElementById("results").append(br);
      document.getElementById("results").append("User chose: " + ug + "  Computer chose: " + cg);
    }

    // This function is run whenever the user presses a key.
    document.onkeyup = function(event) {

      
      if(numberOfPlays < maxPlays){
        // Determines which key was pressed.
        var userGuess = event.key;

        console.log(userGuess);

        if(computerChoices.includes(userGuess)){

          // Randomly chooses a choice from the options array. This is the Computer's guess.
          var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

          // Alerts the key the user pressed (userGuess).
          alert("User guess: " + userGuess);

          // Alerts the Computer's guess.
          alert("Computer guess: " + computerGuess);


          if(userGuess === "r" && computerGuess === "s"){
            userWin();
          }
          else if(userGuess === "s" && computerGuess === "p"){
            userWin();
          }
          else if(userGuess === "p" && computerGuess === "r"){
            userWin();
          }
          else if(computerGuess === "r" && userGuess === "s"){
            userLoss();
          }
          else if(computerGuess === "s" && userGuess === "p"){
            userLoss();
          }
          else if(computerGuess === "p" && userGuess === "r"){
            userLoss();
          }
          else{
            tie();
          }

          appendResults(userGuess, computerGuess);

          numberOfPlays++;
          updateTimesPlayed();

        }//end of if the user pressed right button
        else{
          alert("press 'r', 'p', or 's' to continue");
        }



      }
      

    
    };
  </script>

</body>

</html>
